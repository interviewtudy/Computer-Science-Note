# 네트워크의 기초

## 네트워크의 기초

- 네트워크(Network): 노드(Node) 와 링크(Link)가 서로 연결되어 있으며 리소스를 공유하는 집합
- 링크(Link): 유선 / 무선
- 좋은 네트워크는 많은 처리량 처리 가능, 지연 시간 짧음, 장애 빈도 적음, 좋은 보안 갖춤

### 처리량(Throughput)- 노드(Node): 서버, 라우터, 스위치 등의 네트워크 장치

처리량이란 링크 내에서 성공적으로 전달된 데이터의 양으로 보통 얼만큼의 트래픽을 처리했는지 타냄<br/>

- 트래픽: 특정 시점에 링크 내에 흐르는 데이터의 양
- 단위: bps(bits per second)
- 트래픽, 네트워크 장치 간 대역폭, 네트워크 중간에 발생하는 에러, 장치의 하드웨어 스펙에 영향을 받음

### 지연 시간(Latency)

지연 시간이란 요청이 처리됟는 시간으로, 어떤 메시지가 두 장치 사이를 왕복하는데 걸린 시간을 의미함

- 매체 타입(유/무선), 패킷 크기, 라우터의 패킷 처리 시간에 영향을 받음

<br/><br/>

## 네트워크 토폴로지와 병목 현상

네트워크 토폴로지란 노드와 링크가 어떻게 배치되어 있는지에 대한 방식이자 연결 형태를 의미함

- 어떤 토폴로지를 갖는지, 어떤 경로로 이루어져 있는지 알아야 병목 현상을 올바르게 해결할 수 있음

### 트리 토폴로지

트리 형태로 배치된 계층형 토폴로지

- 노드의 추가, 삭제가 쉽움
- 트래픽 집중 시 하위 노드에 영향을 끼칠 수 있음

### 버스 토폴로지

중앙 통신 회선 하나에 여러개의 노드가 연결되어 공유하는 구성

- 근거리 통신망(LAN)에서 사용
- 장점: 설치 비용이 적음, 신뢰성 우수함, 중앙 통신 회선에 노드 추가, 삭제 쉬움
- 단점: 스푸핑 가능
  - 스푸핑이란 LAN 상에서 송신부의 패킷을 관련 없는 호스트에 가도록 처리하는 것을 의미함

### 스타 토폴로지

중앙에 있는 노드에 모두 연결된 네트워크 구성

- 장점: 노드 추가 쉬움, 에러 탐지 쉬움, 패킷 충돌 발생 가능성 적음, 노드에 장애가 발생해도 쉽게 에러 파악 가능, 중앙 노드만 아니면 다른 노드에 영향을 끼치는 것이 적음
- 단점: 중앙 노드에 장애가 발생하면 전체 네트워크 사용 불가능, 설치 비용이 고가

### 링형 토폴로지

각각의 노드가 양 옆의 두 노드와 연결해 전체적으로 고리처럼 하나의 연속된 길을 통해 통싱하는 구성.

- 장점: 노드 수가 증가되어도 네트워크 상의 손실이 거의 없음, 충돌 발생 가능성 적음, 노드 고장 쉽게 발견 가능
- 단점: 네트워크 구성 변경 어려움, 회선에 장애가 발생할 경우 전체 네트워크에 영향을 줌

### 메시 토폴로지(망형 토폴로지)

그물망처럼 연결되어 있는 구조

- 장점: 한 단말 장치에 장애가 발생해도 네트워크 계속 사용 가능, 트래픽 분산 처리 가능
- 단점: 노드 추가 어려움, 구축 비용 & 운용 비용 고가

<br/><br/>

## 네트워크 분류

규모를 기반으로 LAN(Local Area Network), MAN(Metropolitan Area Network), WAN(World Area Network)로 분류

### LAN(Local Area Network)

- 근거리 통신망. 같은 건물, 캠퍼스 같은 좁은 공간에서 운영
- 전송속도 빠름, 혼잡하지 않음

### MAN(Metropolitan Area Network)

- 대도시 지역 네트워크. 도시 같은 지역에서 운영
- 전송속도 평균, LAN 보다 혼잡

### WAN(World Area Network)

- 광역 네트워크. 국가 또는 대륙 같은 지역에서 운영
- 전송 속도 낮음, MAN 보다 혼잡

<br/><br/>

## 네트워크 성능 분석 명령어

- 네트워크 대역폭, 네트워크 토폴로지, 서버 CPU, 메모리 사용량, 비효율적인 네트워크 구성으로 인해 네트워크 병목현상 나타날 수 있음
- 네트워크 관련 테스트 와 네트워크 무관 테스트를 실행해, 네트워크 관련 문제점인 게 확인되면 성능 분석 시작
- ftp 를 통해 대형 파일을 전송하여 테스팅하거나 tcpdump 를 통해 노드로 오고가는 패킷을 캡쳐하는 명령어도 있음
- wireshark, netmon 등의 네트워크 분석 프로그램이 있음

### ping

네트워크 상태를 확인하려는 대상 노드를 향해 일정 크기의 패킷을 전송하는 명령어<br/>

- 해당 노드의 패킷 수신 상태, 도달하기까지의 시간 등을 알 수 있음 -> 해당 노드까지 네트워크가 잘 연결됐는지 확인 가능
- TCP/IP 프로토콜 중 ICMP 프로토콜을 통해 동작 -> ICMP 프로토콜 미지원 혹은 ICMP나 traceroute 를 차단하는 경우엔 테스트 불가
- `ping [IP 주소 또는 도메인 주소]` 로 실행

### netstat

접속되어 있는 서비스들의 네트워크 상태를 표시하는데 사용

- 네트워크 접속, 라우팅 테이블, 네트워크 프로토콜 등 리스트 보여줌 -> 서비스의 포트가 열려 있는지 확인할 때 씀

### nslookup

DNS 에 관련된 내용을 확인하는데 사용. 특정 도메인에 매핑된 IP를 확인하기 위해 사용

### tracert(리눅스: traceroute)

목적지 노드까지 네트워크 경로를 확인할 때 사용하는 명령어 -> 목적지 노드까지의 구간들 중 어느 구간에서 응답 시간이 느려지는지 등 확인할 수 있음

<br/><br/>

## 네트워크 프로토콜 표준화

네트워크 프로토콜이란 다른 장치들끼리 데이터를 주고받기 위해 설정된 공통된 인터페이스를 의미함

- IEEE 또는 IETF 라는 표준화 단체가 정함
- ex. IEEE802.3 은 유선 LAN을 구축할 때 쓰는 프로토콜로 이를 통해 만든 기업이 다른 장치라도 서로 데이터를 수신할 수 있음
- ex. HTTP 프로토콜 노드들이 웹서비스를 기반으로 데이터 주고 받을 수 있음

<br/><br/><br/><br/>

# TCP/IP 4계층 모델

인터넷 프로토콜 스위트(Internet Protocol Suite)는 인터넷에서 컴퓨터들이 서로 정보를 주고받는 데 쓰이는 프로토콜의 집합으로, 이를 설명할 때 TCP/IP 4계층 또는 OSI 7계층 모델로 설명하기도 함

<br/><br/>

## 계층 구조

<br/><br/><br/><br/>

# 용어

- 대역폭: 주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수
- 스푸핑: LAN 상에서 송신부의 패킷을 관련 없는 호스트에 가도록 처리하는 것
- 병목(Bottleneck) 현상: 전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한 받는 현상
